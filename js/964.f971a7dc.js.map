{"version":3,"file":"js/964.f971a7dc.js","mappings":"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","sources":["webpack://sus_front_celular_2/./src/views/CadView.vue","webpack://sus_front_celular_2/./src/views/CadView.vue?6ec1"],"sourcesContent":["<template>\n  <main class=\"mainContainer\">\n    <div class=\"formCad\">\n      <div class=\"inputBox\">\n        <input type=\"text\" class=\"inputHome\" v-model=\"nome\" placeholder=\"Nome\">\n        <input type=\"text\" class=\"inputHome\" v-model=\"doc\" placeholder=\"CPF\">\n        <input type=\"text\" class=\"inputHome\" v-model=\"docsus\" placeholder=\"Cartão SUS\">\n        <input type=\"text\" class=\"inputHome\" v-model=\"tel\" placeholder=\"Telefone\">\n        <input type=\"text\" class=\"inputHome\" v-model=\"email\" placeholder=\"E-Mail\">\n      </div>\n      <div v-if=\"showEMessage\" class=\"mesagemDeErro\">\n        {{ deuMerda }}\n      </div>\n      <div class=\"inputBox btOKContainer\">\n        <input class=\"btOK\" type=\"button\" value=\"Salvar\" @click=\"CadSave\">\n        <input class=\"btOK\" type=\"button\" value=\"Voltar\" @click=\"retorna\">\n      </div>\n    </div>\n  </main>\n</template>\n\n<script>\n\nimport axios from 'axios'\n\nconst http = axios.create()\n\nexport default {\n  data() {\n    return {\n      nome: null,\n      doc: null,\n      docsus: null,\n      tel: null,\n      email: null,\n      showEMessage: false,\n      BASE_URL: null,\n      deuMerda: null\n    }\n  },\n  mounted() {\n    this.BASE_URL = \"https://vizinhoapi.herokuapp.com/\"\n    // this.BASE_URL = \"http://localhost:3000/\"\n  },\n  methods: {\n    retorna() {\n      this.$router.push('/');\n    },\n    async verifyCad() {\n\n      try {\n        const response = await http.post(this.BASE_URL + 'clientes/sus', {\n          doc: this.doc,\n          docsus: this.docsus,\n          vertype:2\n        });\n\n        const rConsult = response.data.response;\n        return rConsult.status;\n\n      } catch (error) {\n\n        // console.log({ error });\n        return false;\n\n      }\n\n    },\n    async insertCad() {      \n\n      let result = await this.verifyCad()\n\n      // console.log({ result })\n\n      if (!result) {\n\n        http.post(this.BASE_URL + 'clientes/add',\n\n          {\n            nome: this.nome,\n            email: this.email,\n            tel: this.tel,\n            doc: this.doc,\n            docsus: this.docsus\n          }\n\n        ).then((result) => {\n\n          let rCadastro = result.data.response\n          // console.log(rCadastro)\n          this.$router.push('/');\n\n        }, (ct_error) => {\n\n          // console.log({ error: ct_error })\n\n        })\n      } else {\n\n        this.deuMerda = \"Cadastro já existe.\"\n        this.showEMessage = true\n\n        setTimeout(() => {\n          this.showEMessage = false\n        }, 5000);\n\n      }\n\n    },\n    CadSave() {\n\n      if (!!this.doc) {\n        this.doc = this.doc.replace(/[.,() -]/g, '')\n        this.doc = this.doc.replace(/\\D/g, '');\n      }\n      if (!!this.docsus) {\n        this.docsus = this.docsus.replace(/[.,() -]/g, '')\n        this.docsus = this.docsus.replace(/\\D/g, '');\n      }\n      if (!!this.tel) {\n        this.tel = this.tel.replace(/[.,() -]/g, '')\n        this.tel = this.tel.replace(/\\D/g, '');\n      }\n\n      if (!this.nome || !this.doc || !this.docsus || !this.tel || !this.email) {\n        // console.log('Parâmetros inválidos!')\n        this.deuMerda = \"Cadastro incompleto.\"\n        this.showEMessage = true\n\n        setTimeout(() => {\n          this.showEMessage = false\n        }, 5000);\n      } else {\n        this.insertCad()        \n      }\n    }\n  },\n}\n</script>\n\n<style scoped>\n.mainContainer {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.formCad {\n  width: 40rem;\n  margin-left: auto;\n  margin-right: auto;\n  padding-top: 60px;\n}\n\n.inputHome {\n  width: 100%;\n  text-align: center;\n  font-size: 22px;\n  padding: 12px;\n  border-radius: 6px;\n  margin-bottom: 20px;\n}\n\n.inputBox {\n  width: 80%;\n  margin: auto;\n}\n\n.btOKContainer {\n  display: flex;\n  justify-content: center;\n}\n\n.btOK {\n  width: 85%;\n  text-align: center;\n  font-size: 22px;\n  padding: 12px;\n  border-radius: 6px;\n  background-color: rgb(14, 14, 95);\n  color: aliceblue;\n  cursor: pointer;\n  font-weight: 800;\n  font-size: 18px;\n  margin-bottom: 20px;\n}\n\n.mesagemDeErro {\n  color: rgb(126, 0, 0);\n  font-size: 18px;\n  font-weight: 700;\n  margin-bottom: 20px;\n  transition: 0.3s;\n  background-color: aliceblue;\n  width: 80%;\n  margin-left: auto;\n  margin-right: auto;\n  padding: 20px;\n  text-align: center;\n  border-radius: 6px;\n}\n\n@media (max-width: 700px) {\n\n  .mainContainer,\n  .formCad,\n  .inputBox {\n    width: 100%;\n  }\n\n  .inputHome,\n  .btOK {\n    width: 80%;\n  }\n\n  .inputBox {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n  }\n}\n</style>","import { render } from \"./CadView.vue?vue&type=template&id=058daadf&scoped=true\"\nimport script from \"./CadView.vue?vue&type=script&lang=js\"\nexport * from \"./CadView.vue?vue&type=script&lang=js\"\n\nimport \"./CadView.vue?vue&type=style&index=0&id=058daadf&scoped=true&lang=css\"\n\nimport exportComponent from \"E:\\\\Pedro\\\\Projetos\\\\SUS\\\\sus_front_celular_2\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-058daadf\"]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","type","$data","nome","$event","placeholder","doc","docsus","tel","email","showEMessage","_hoisted_4","_toDisplayString","deuMerda","_hoisted_5","value","onClick","_cache","args","$options","CadSave","retorna","http","axios","data","BASE_URL","mounted","this","methods","$router","push","async","response","post","vertype","rConsult","status","error","result","verifyCad","setTimeout","then","ct_error","replace","insertCad","__exports__","render"],"sourceRoot":""}