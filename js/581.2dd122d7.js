"use strict";(self["webpackChunksus_front_celular_2"]=self["webpackChunksus_front_celular_2"]||[]).push([[581],{6581:function(e,t,s){s.r(t),s.d(t,{default:function(){return y}});var a=s(3396),o=s(9242),l=s(7139);const i={class:"mainContainer"},n={class:"formCad"},u={class:"inputBox"},d={key:0,class:"mesagemDeErro"},c={class:"inputBox btOKContainer"};function r(e,t,s,r,h,p){return(0,a.wg)(),(0,a.iD)("main",i,[(0,a._)("div",n,[(0,a._)("div",u,[(0,a.wy)((0,a._)("input",{type:"text",class:"inputHome","onUpdate:modelValue":t[0]||(t[0]=e=>h.nome=e),placeholder:"Nome"},null,512),[[o.nr,h.nome]]),(0,a.wy)((0,a._)("input",{type:"text",class:"inputHome","onUpdate:modelValue":t[1]||(t[1]=e=>h.doc=e),placeholder:"CPF"},null,512),[[o.nr,h.doc]]),(0,a.wy)((0,a._)("input",{type:"text",class:"inputHome","onUpdate:modelValue":t[2]||(t[2]=e=>h.docsus=e),placeholder:"Cartão SUS"},null,512),[[o.nr,h.docsus]]),(0,a.wy)((0,a._)("input",{type:"text",class:"inputHome","onUpdate:modelValue":t[3]||(t[3]=e=>h.tel=e),placeholder:"Telefone"},null,512),[[o.nr,h.tel]]),(0,a.wy)((0,a._)("input",{type:"text",class:"inputHome","onUpdate:modelValue":t[4]||(t[4]=e=>h.email=e),placeholder:"E-Mail"},null,512),[[o.nr,h.email]])]),h.showEMessage?((0,a.wg)(),(0,a.iD)("div",d,(0,l.zw)(h.deuMerda),1)):(0,a.kq)("",!0),(0,a._)("div",c,[(0,a._)("input",{class:"btOK",type:"button",value:"Salvar",onClick:t[5]||(t[5]=(...e)=>p.CadSave&&p.CadSave(...e))}),(0,a._)("input",{class:"btOK",type:"button",value:"Voltar",onClick:t[6]||(t[6]=(...e)=>p.retorna&&p.retorna(...e))})])])])}s(7658);var h=s(4161);const p=h.Z.create();var m={data(){return{nome:null,doc:null,docsus:null,tel:null,email:null,showEMessage:!1,BASE_URL:null,deuMerda:null}},mounted(){this.BASE_URL="https://vizinhoapi.herokuapp.com/"},methods:{retorna(){this.$router.push("/")},async verifyCad(){try{const e=await p.post(this.BASE_URL+"clientes/sus",{doc:this.doc,docsus:this.docsus,vertype:2}),t=e.data.response;return t.status}catch(e){return!1}},async insertCad(){let e=await this.verifyCad();e?(this.deuMerda="Cadastro já existe.",this.showEMessage=!0,setTimeout((()=>{this.showEMessage=!1}),5e3)):p.post(this.BASE_URL+"clientes/add",{nome:this.nome,email:this.email,tel:this.tel,doc:this.doc,docsus:this.docsus}).then((e=>{e.data.response;this.$router.push("/")}),(e=>{}))},CadSave(){this.doc&&(this.doc=this.doc.replace(/[.,() -]/g,""),this.doc=this.doc.replace(/\D/g,"")),this.docsus&&(this.docsus=this.docsus.replace(/[.,() -]/g,""),this.docsus=this.docsus.replace(/\D/g,"")),this.tel&&(this.tel=this.tel.replace(/[.,() -]/g,""),this.tel=this.tel.replace(/\D/g,"")),this.nome&&this.doc&&this.docsus&&this.tel&&this.email?this.insertCad():(this.deuMerda="Cadastro incompleto.",this.showEMessage=!0,setTimeout((()=>{this.showEMessage=!1}),5e3))}}},_=s(89);const v=(0,_.Z)(m,[["render",r],["__scopeId","data-v-5f20f0d2"]]);var y=v}}]);
//# sourceMappingURL=581.2dd122d7.js.map