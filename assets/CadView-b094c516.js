import{_ as c,a as p,o as r,c as d,b as o,w as l,v as i,t as h,d as m}from"./index-360f0597.js";const u=p.create(),C={data(){return{nome:null,doc:null,docsus:null,tel:null,email:null,showEMessage:!1,BASE_URL:null,deuMerda:null}},mounted(){this.BASE_URL="https://vizinhoapi.herokuapp.com/"},methods:{retorna(){this.$router.push("/")},async verifyCad(){try{return(await u.post(this.BASE_URL+"clientes/sus",{doc:this.doc,docsus:this.docsus,vertype:2})).data.response.status}catch{return!1}},async insertCad(){await this.verifyCad()?(this.deuMerda="Cadastro já existe.",this.showEMessage=!0,setTimeout(()=>{this.showEMessage=!1},5e3)):u.post(this.BASE_URL+"clientes/add",{nome:this.nome,email:this.email,tel:this.tel,doc:this.doc,docsus:this.docsus}).then(e=>{e.data.response,this.$router.push("/")},e=>{})},CadSave(){this.doc&&(this.doc=this.doc.replace(/[.,() -]/g,""),this.doc=this.doc.replace(/\D/g,"")),this.docsus&&(this.docsus=this.docsus.replace(/[.,() -]/g,""),this.docsus=this.docsus.replace(/\D/g,"")),this.tel&&(this.tel=this.tel.replace(/[.,() -]/g,""),this.tel=this.tel.replace(/\D/g,"")),!this.nome||!this.doc||!this.docsus||!this.tel||!this.email?(this.deuMerda="Cadastro incompleto.",this.showEMessage=!0,setTimeout(()=>{this.showEMessage=!1},5e3)):this.insertCad()}}},_={class:"mainContainer"},v={class:"formCad"},f={class:"inputBox"},y={key:0,class:"mesagemDeErro"},g={class:"inputBox btOKContainer"};function x(n,e,E,w,t,a){return r(),d("main",_,[o("div",v,[o("div",f,[l(o("input",{type:"text",class:"inputHome","onUpdate:modelValue":e[0]||(e[0]=s=>t.nome=s),placeholder:"Nome"},null,512),[[i,t.nome]]),l(o("input",{type:"text",class:"inputHome","onUpdate:modelValue":e[1]||(e[1]=s=>t.doc=s),placeholder:"CPF"},null,512),[[i,t.doc]]),l(o("input",{type:"text",class:"inputHome","onUpdate:modelValue":e[2]||(e[2]=s=>t.docsus=s),placeholder:"Cartão SUS"},null,512),[[i,t.docsus]]),l(o("input",{type:"text",class:"inputHome","onUpdate:modelValue":e[3]||(e[3]=s=>t.tel=s),placeholder:"Telefone"},null,512),[[i,t.tel]]),l(o("input",{type:"text",class:"inputHome","onUpdate:modelValue":e[4]||(e[4]=s=>t.email=s),placeholder:"E-Mail"},null,512),[[i,t.email]])]),t.showEMessage?(r(),d("div",y,h(t.deuMerda),1)):m("",!0),o("div",g,[o("input",{class:"btOK",type:"button",value:"Salvar",onClick:e[5]||(e[5]=(...s)=>a.CadSave&&a.CadSave(...s))}),o("input",{class:"btOK",type:"button",value:"Voltar",onClick:e[6]||(e[6]=(...s)=>a.retorna&&a.retorna(...s))})])])])}const S=c(C,[["render",x],["__scopeId","data-v-ad2bcd60"]]);export{S as default};
